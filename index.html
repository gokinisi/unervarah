<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nervarah – Daily Reminder</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #f0f4ff, #e6e9ff);
      margin: 0;
      padding: 2rem 1rem;
      min-height: 100vh;
      display: flex; 
      justify-content: center;
      color: #1e293b;
    }
    .container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      padding: 2.5rem;
      max-width: 600px;
      width: 100%;
    }
    h1 {
      text-align: center;
      color: #6366f1;
      margin-bottom: 0.5rem;
      font-size: 2.8rem;
    }
    .subtitle {
      text-align: center;
      color: #64748b;
      margin-bottom: 2rem;
      font-size: 1.2rem;
    }
    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.2rem;
      margin-bottom: 2rem;
    }
    .option-card {
      background: #ffffff;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.25s ease;
    }
    .option-card:hover {
      border-color: #6366f1;
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(99,102,241,0.15);
    }
    .option-card.selected {
      border-color: #6366f1;
      background: rgba(99,102,241,0.05);
    }
    .option-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #6366f1;
      margin: 0;
    }
    .consent-label {
      font-size: 0.95rem;
      color: #475569;
      margin: 1.5rem 0;
      line-height: 1.5;
    }
    .consent-label a {
      color: #6366f1;
      text-decoration: underline;
    }
    button {
      background: #6366f1;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 1rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      transition: background 0.2s;
    }
    button:hover:not(:disabled) {
      background: #4f46e5;
    }
    button:disabled {
      background: #cbd5e1;
      cursor: not-allowed;
    }
    .daily-task {
      background: #ecfdf5;
      border: 1px solid #10b981;
      border-radius: 12px;
      padding: 2rem;
      margin-top: 1rem;
      text-align: center;
    }
    .daily-task h2 {
      color: #10b981;
      margin-bottom: 1.2rem;
    }
    .daily-task .instruction {
      font-size: 1.15rem;
      line-height: 1.6;
      white-space: pre-wrap;
      margin: 1.5rem 0;
      padding: 1.2rem;
      background: rgba(16, 185, 129, 0.1);
      border-radius: 8px;
    }
    .change-category {
      margin-top: 2.5rem;
      text-align: center;
      font-size: 0.95rem;
      color: #64748b;
    }
    .change-category a {
      color: #6366f1;
      cursor: pointer;
      text-decoration: underline;
    }
    .footer {
      text-align: center;
      color: #94a3b8;
      margin-top: 2.5rem;
      font-size: 0.9rem;
    }
    .footer a {
      color: #64748b;
      text-decoration: none;
      margin: 0 0.5rem;
    }
    .error {
      color: #dc2626;
      text-align: center;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="container" id="mainContainer">
    <!-- Content loaded dynamically -->
  </div>

  <script>
    const reminders = {
      "positive mindset": "Set a timer for 2 minutes. Breathe deeply and repeat: I am capable, and I am ready for the duration of two minutes.",
      "exercise boost": "Set a timer. Do as many push-ups or body weight squats as you can for 2 minutes.",
      "healthy relationship": "Text or call a loved one today just to share that you are thinking of that person— small moments matter.",
      "healthy eating motivation": "Today, eat some kind of lettuce greens before you eat anything else at lunch."
    };

    const container = document.getElementById('mainContainer');
    const today = new Date().toDateString();

    function showSelectionScreen(selected = null) {
      container.innerHTML = `
        <h1>✨ Nervarah</h1>
        <p class="subtitle">Choose your daily focus</p>
        <div class="options-grid">
          <div class="option-card ${selected === 'positive mindset' ? 'selected' : ''}" data-category="positive mindset">
            <div class="option-title">Positive Mindset</div>
          </div>
          <div class="option-card ${selected === 'exercise boost' ? 'selected' : ''}" data-category="exercise boost">
            <div class="option-title">Exercise Boost</div>
          </div>
          <div class="option-card ${selected === 'healthy relationship' ? 'selected' : ''}" data-category="healthy relationship">
            <div class="option-title">Healthy Relationships</div>
          </div>
          <div class="option-card ${selected === 'healthy eating motivation' ? 'selected' : ''}" data-category="healthy eating motivation">
            <div class="option-title">Healthy Eating</div>
          </div>
        </div>
        function showMeetupsScreen(category) {
  // Hardcoded example for Alabama A&M – expand later
  const university = "Alabama A&M University"; // Could come from user profile later
  const location = "University Commons Area / Quad (near Student Union & Wellness Center)";
  const meetupDay = "Every Thursday";
  const meetupTime = "5:30 PM – 6:00 PM";
  const meetupNote = "Quick 30-min check-in: Share progress on your daily task, motivate each other, and plan next steps. Bring water/yoga mat if needed!";

  // Example matches (anonymized)
  const exampleMatches = [
    { name: "AAMU Student (Exercise Boost)", note: "Regular attendee – let's crush those 2-min sets together!" },
    { name: "AAMU Freshman (same goal)", note: "New to the group but committed – Huntsville/Normal area" }
  ];

  let matchesHtml = '<ul style="list-style:none; padding:0; margin:1rem 0;">';
  exampleMatches.forEach(match => {
    matchesHtml += `
      <li style="margin:1rem 0; padding:1rem; background:#f0fdfa; border-radius:8px; border:1px solid #a7f3d0;">
        <strong>${match.name}</strong><br>
        <em>${match.note}</em>
      </li>
    `;
  });
  if (exampleMatches.length === 0) {
    matchesHtml += '<p>No matches yet – be the first to join!</p>';
  }
  matchesHtml += '</ul>';

  container.innerHTML = `
    <h1>Weekly Meetup – ${university}</h1>
    <p class="subtitle">Connect with others pursuing your goal</p>

    <div style="background:#ecfdf5; padding:1.5rem; border-radius:12px; border:1px solid #10b981; margin:1.5rem 0;">
      <h3 style="margin-top:0; color:#10b981;">Suggested Weekly Session</h3>
      <p><strong>Location:</strong> ${location}</p>
      <p><strong>When:</strong> ${meetupDay} at ${meetupTime}</p>
      <p><strong>Details:</strong> ${meetupNote}</p>
    </div>

    <div>
      <h3 style="color:#6366f1;">Potential Matches / Attendees</h3>
      ${matchesHtml}
    </div>

    <p style="text-align:center; font-size:0.95rem; color:#64748b; margin:2rem 0;">
      This is a student-led, informal meetup. Suggest changes or create your own event in future updates!
    </p>

    <button onclick="showDailyTaskScreen('${category}')" style="background:#6366f1; color:white; padding:1rem; border:none; border-radius:10px; font-weight:600; cursor:pointer; width:100%; margin-bottom:1rem;">
      Back to Today's Reminder
    </button>

    <div class="change-category">
      <a onclick="showSelectionScreen('${category}')">Change focus</a>
    </div>

    <div class="footer">
      <a href="/terms.html">Terms of Service</a> |
      <a href="/privacy.html">Privacy Policy</a> |
      <a href="/contact.html">Contact</a>
    </div>
  `;
}

        <label class="consent-label">
          <input type="checkbox" id="consentCheckbox">
          I agree to the <a href="/terms.html" target="_blank">Terms of Service</a> 
          and understand this will show one daily reminder task when I open the site.
          See our <a href="/privacy.html" target="_blank">Privacy Policy</a>.
        </label>

        <button id="enableBtn" disabled>Lock in Daily Reminder</button>

        <div id="errorMsg" class="error"></div>

        <div class="footer">
          <a href="/terms.html">Terms of Service</a> |
          <a href="/privacy.html">Privacy Policy</a> |
          <a href="/contact.html">Contact</a>
        </div>
      `;

      const cards = document.querySelectorAll('.option-card');
      const enableBtn = document.getElementById('enableBtn');
      const consentCheckbox = document.getElementById('consentCheckbox');
      const errorMsg = document.getElementById('errorMsg');

      function updateButton() {
        enableBtn.disabled = !(selectedCategory && consentCheckbox.checked);
        if (!enableBtn.disabled && selectedCategory) {
          const title = Array.from(cards).find(c => c.dataset.category === selectedCategory)?.querySelector('.option-title')?.textContent || '';
          enableBtn.textContent = `Lock in ${title}`;
        } else {
          enableBtn.textContent = "Lock in Daily Reminder";
        }
      }

      let selectedCategory = selected;
      if (selected) updateButton();

      cards.forEach(card => {
        card.addEventListener('click', () => {
          cards.forEach(c => c.classList.remove('selected'));
          card.classList.add('selected');
          selectedCategory = card.dataset.category;
          updateButton();
          errorMsg.textContent = '';
        });
      });

      consentCheckbox.addEventListener('change', updateButton);

      enableBtn.addEventListener('click', () => {
        if (!selectedCategory) {
          errorMsg.textContent = "Please select a focus.";
          return;
        }
        if (!consentCheckbox.checked) {
          errorMsg.textContent = "Please agree to continue.";
          return;
        }

        localStorage.setItem('nervarahCategory', selectedCategory);
        localStorage.setItem('nervarahLastShown', today);
        showDailyTaskScreen(selectedCategory);
      });
    }

    function showDailyTaskScreen(category) 
    <button onclick="showMeetupsScreen('${category}')" style="background:#10b981; color:white; padding:1rem; border:none; border-radius:10px; font-weight:600; cursor:pointer; width:100%; margin-top:1.5rem;">
  Plan / View Weekly Meetup
</button>
      const taskText = reminders[category] || "No reminder set – please choose one.";
      container.innerHTML = `
        <h1>Today's Reminder</h1>
        <div class="daily-task">
          <h2>${category.replace(/\b\w/g, l => l.toUpperCase())}</h2>
          <p class="instruction">${taskText}</p>
        </div>
        <div class="change-category">
          <p>You are currently focused on this goal.</p>
          <a onclick="showSelectionScreen('${category}')">Change focus</a>
        </div>
        <div class="footer">
          <a href="/terms.html">Terms of Service</a> |
          <a href="/privacy.html">Privacy Policy</a> |
          <a href="/contact.html">Contact</a>
        </div>
      `;
    }

    // On page load
    const savedCategory = localStorage.getItem('nervarahCategory');
    const lastShown = localStorage.getItem('nervarahLastShown');

    if (savedCategory && lastShown !== today) {
      localStorage.setItem('nervarahLastShown', today);
      showDailyTaskScreen(savedCategory);
    } else if (savedCategory) {
      showDailyTaskScreen(savedCategory);
    } else {
      showSelectionScreen();
    }
  </script>
</body>
</html>
    }
  </script>
</body>
</html>
